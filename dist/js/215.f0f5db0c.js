"use strict";(self["webpackChunkalphamx_vue"]=self["webpackChunkalphamx_vue"]||[]).push([[215],{3215:function(e,t,l){l.r(t),l.d(t,{default:function(){return F}});var s=l(3396);const a=e=>((0,s.dD)("data-v-39a70ce4"),e=e(),(0,s.Cn)(),e),i=a((()=>(0,s._)("h3",{class:"pagetitle"},"AlphaMX generate",-1))),o=a((()=>(0,s._)("br",null,null,-1)));function r(e,t,l,a,r,n){const m=(0,s.up)("PredictCom1");return(0,s.wg)(),(0,s.iD)("div",null,[i,o,(0,s.Wm)(m,{url:"/generate"})])}var n=l(9242);const m={class:"predictcom1"},d=["src"];function c(e,t,l,a,i,o){const r=(0,s.up)("el-input"),c=(0,s.up)("el-button"),u=(0,s.up)("el-form-item"),f=(0,s.up)("el-radio"),p=(0,s.up)("el-radio-group"),h=(0,s.up)("UploadCom"),b=(0,s.up)("el-form");return(0,s.wg)(),(0,s.iD)("div",m,[(0,s.Wm)(b,{"label-position":i.labelPosition,model:i.form,"status-icon":"",rules:i.rules,ref:"form","label-width":"120px",class:"demo-form"},{default:(0,s.w5)((()=>[1==i.hackReset?((0,s.wg)(),(0,s.iD)("iframe",{key:0,src:i.src,id:"myiframe",ref:"iframe",width:"700px",height:"600px",frameborder:"”0”",border:"”0″",marginwidth:"”0″",marginheight:"”0″",scrolling:"no",prop:"demo"},null,8,d)):(0,s.kq)("",!0),(0,s.Wm)(u,{label:"smiles",prop:"smiles"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{disabled:!i.noEditSmiles,modelValue:i.form.smiles,"onUpdate:modelValue":t[0]||(t[0]=e=>i.form.smiles=e),placeholder:"Please enter the smiles"},null,8,["disabled","modelValue"]),(0,s.Uk)("  "),(0,s.Wm)(c,{disabled:!i.noEditSmiles,type:"primary",onClick:t[1]||(t[1]=e=>o.getSmiles())},{default:(0,s.w5)((()=>[(0,s.Uk)("smiles")])),_:1},8,["disabled"])])),_:1}),(0,s.Wm)(u,{label:"file_type",prop:"file_type"},{default:(0,s.w5)((()=>[(0,s.Wm)(p,{modelValue:i.form.file_type,"onUpdate:modelValue":t[2]||(t[2]=e=>i.form.file_type=e),onClick:t[3]||(t[3]=e=>o.clearSmiles())},{default:(0,s.w5)((()=>[(0,s.Wm)(f,{label:"smiles"},{default:(0,s.w5)((()=>[(0,s.Uk)("smiles")])),_:1}),(0,s.Wm)(f,{label:"sdf"},{default:(0,s.w5)((()=>[(0,s.Uk)("sdf")])),_:1})])),_:1},8,["modelValue"])])),_:1}),(0,s.wy)((0,s.Wm)(u,{label:"Upload sdf",prop:"sdfpath"},{default:(0,s.w5)((()=>[1==i.hackReset?((0,s.wg)(),(0,s.j4)(h,{key:0,isData:!1,tipmsg:"Upload the SDF file to generate molecular configuration",onFunc:o.getSDF,disabled:i.noEditSmiles},null,8,["onFunc","disabled"])):(0,s.kq)("",!0)])),_:1},512),[[n.F8,!i.noEditSmiles]]),(0,s.Wm)(u,{label:"Email",prop:"email"},{default:(0,s.w5)((()=>[(0,s.Wm)(r,{modelValue:i.form.email,"onUpdate:modelValue":t[4]||(t[4]=e=>i.form.email=e),autocomplete:"True",placeholder:"Please enter your email address"},null,8,["modelValue"])])),_:1}),(0,s.Wm)(u,null,{default:(0,s.w5)((()=>[(0,s.Wm)(c,{type:"primary",onClick:t[5]||(t[5]=e=>o.submitForm("form"))},{default:(0,s.w5)((()=>[(0,s.Uk)("submit")])),_:1}),(0,s.Wm)(c,{onClick:t[6]||(t[6]=e=>o.resetForm("form"))},{default:(0,s.w5)((()=>[(0,s.Uk)("reset")])),_:1})])),_:1})])),_:1},8,["label-position","model","rules"])])}var u=l(5939),f="http://localhost:8085/";const p=u.Z.create({baseURL:f,timeout:1e5});p.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded",p.interceptors.request.use((e=>e),(e=>Promise.reject(e))),p.interceptors.response.use((e=>{const t=e.data;return t}),(e=>Promise.reject(e)));var h=p;function b(e,t){return h({url:e,method:"post",data:t})}var g=l(7139);const w=e=>((0,s.dD)("data-v-1301b7bf"),e=e(),(0,s.Cn)(),e),_={class:"uploadcom"},v=w((()=>(0,s._)("br",null,null,-1)));function y(e,t,l,a,i,o){const r=(0,s.up)("el-button"),n=(0,s.up)("el-tooltip"),m=(0,s.up)("el-upload");return(0,s.wg)(),(0,s.iD)("div",_,[(0,s.Wm)(m,{class:"upload-demo",action:"http://localhost:8085/upload",method:"post",multiple:!1,name:"file","on-preview":o.handlePreview,"on-remove":o.handleRemove,"before-remove":o.beforeRemove,"on-success":o.handleSuccess,"on-error":o.handleError,accept:i.acceptType,limit:1,"on-exceed":o.handleExceed,"file-list":i.fileList},{default:(0,s.w5)((()=>[(0,s.Wm)(n,{placement:"left"},{content:(0,s.w5)((()=>[(0,s.Uk)((0,g.zw)(l.tipmsg),1),v,(0,s.Uk)(" "+(0,g.zw)(i.msg),1)])),default:(0,s.w5)((()=>[(0,s.Wm)(r,{type:"primary"},{default:(0,s.w5)((()=>[(0,s.Uk)("Click to upload")])),_:1})])),_:1})])),_:1},8,["on-preview","on-remove","before-remove","on-success","on-error","accept","on-exceed","file-list"])])}var k=l(65),P={name:"UploadCom",data(){return{fileList:[],filePath:"",msg:"Only sdf files can be uploaded",acceptType:".sdf"}},props:{isData:Boolean,tipmsg:String},methods:{handleRemove(){},handlePreview(){},handleExceed(e,t){this.$message.warning(`The current limit to choose a file, the chose ${e.length} file，a total of ${e.length+t.length} files`)},beforeRemove(e){return this.$confirm(`Cancel the transfert of ${e.name}?`)},handleSuccess(e){this.filePath=e.filePath,this.$message.success("Upload successfully"),this.$emit("func",e.filePath)},handleError(){this.$alert("Upload failed! Only sdf files can be uploaded!")}},created(){this.isData||(this.msg="Only sdf files can be uploaded",this.acceptType=".sdf")},computed:{...(0,k.rn)(["sdfPath"])}},W=l(89);const S=(0,W.Z)(P,[["render",y],["__scopeId","data-v-1301b7bf"]]);var U=S,C={name:"PredictCom1",components:{UploadCom:U},data(){return{src:"./static/demo.html",iframeWin:{},labelPosition:"left",ifrun:!1,hackReset:!0,noEditSmiles:!0,form:{smiles:"",sdfPath:"",file_type:"smiles",email:""},rules:{email:[{required:!0,message:"Please enter your email address",trigger:"blur"},{type:"email",message:"Please enter the correct email address",trigger:["blur","change"]}]}}},props:{url:String},methods:{getSmiles(){this.$refs.iframe.contentWindow.new_smiles&&(this.form.smiles=this.$refs.iframe.contentWindow.new_smiles,this.$refs.iframe.contentWindow.jsmeApplet.reset())},getSDF(e){this.form.sdfPath=e},clearSmiles(){this.form.smiles=""},submitForm(e){var t=this.checkSubmit();this.$refs[e].validate((e=>{if(!e||!t)return this.$alert("Input information is incomplete or incorrect","Submit failed",{confirmButtonText:"confirm",type:"warning"}),!1;b(this.url,this.form).then((e=>{this.ifrun=!0,this.$notify({title:"AlphaMX Successfully submitted",message:"Please check the results email",type:"success"})})).catch((e=>{this.$alert(e,"Run failed",{confirmButtonText:"confirm"})}))}))},resetForm(e){this.$refs[e].resetFields(),this.hackReset=!1,this.$nextTick((()=>{this.hackReset=!0}))},checkSubmit(){return"sdf"!=this.form.file_type||""!=this.form.sdfPath}},watch:{"form.file_type":function(e,t){this.noEditSmiles="sdf"!=e}}};const $=(0,W.Z)(C,[["render",c],["__scopeId","data-v-633b1b85"]]);var x=$,D={name:"PageOne",components:{PredictCom1:x}};const E=(0,W.Z)(D,[["render",r],["__scopeId","data-v-39a70ce4"]]);var F=E}}]);
//# sourceMappingURL=215.f0f5db0c.js.map